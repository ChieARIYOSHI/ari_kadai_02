<!DOCTYPE html>
<html lang="ja">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/battle.css">
    <title>じゃんけん・ぐりこ</title>
  </head>
  
  <body>
    <header>
      <div class="score_board">
        <div class="user_points">
          <p>あなたの点数： </p>
          <p id="user_total">0</p>
          <p class="tokuten"> 点</p>
        </div>
        <div class="neko_points">
          <p>ネコちゃんの点数： </p>
          <p id="neko_total">0</p>
          <p class="tokuten"> 点</p>
        </div>
      </div>
    </header>

    <div class="main">
      <div id="neko">
        <img id="neko_left" src="img/test_1.png" width=160 height=160>
        <img id="neko_center" src="img/janken_pon.png" width=340 height=300 alt="猫のイラスト">
        <ul class="point_board">
          <li class="point"><img src="img/gu.png" width=36 height=36 alt="グーのイラスト"><p id="gu_word">グリコ（３点）</p></li>
          <li class="point"><img src="img/choki.png" width=36 height=36 alt="チョキのイラスト"><p id="choki_word">チヨコレート（６点）</p></li>
          <li class="point"><img src="img/pa.png" width=36 height=36 alt="パーのイラスト"><p id="pa_word">パイナツプル（６点）</p></li>
        </ul>
      </div>

      <p id="kekka">ネコちゃんとじゃんけん勝負！</p>
      
      <div class="gu_choki_pa">
        <li id="gu" href=""><img src="img/gu.png" width=160 height=160 alt="グーのイラスト"></li>
        <li id="choki" href=""><img src="img/choki.png" width=160 height=160 alt="チョキのイラスト"></li>
        <li id="pa" href=""><img src="img/pa.png" width=160 height=160 alt="パーのイラスト"></li>
      </div>
    </div>

    <footer>
      <p>copyrights 2020 Arilyn Inc. All Rights Reserved.</p>
    </footer>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script>
        const min = 0;
        const max = 2;
        let user_initial = 0;
        let neko_initial = 0;
        const gu_add = 3;
        const choki_add = 6;
        const pa_add = 6;

      $('#gu').on('click', function () {
        //ここに自分の処理を追加
        const randomnumber = Math.floor(Math.random()*(max-min+1)) +min;
        console.log(randomnumber);
        if(randomnumber == 0) {
          $('#kekka').html('やったー！あなたの勝ち');
          $('#neko_center').attr('src', 'img/you_win.png');
          $('#neko_left').attr('src', 'img/neko_choki.png');
          $('#gu').css('opacity', 1);
          $('#choki').fadeTo(200,0.5);
          $('#pa').fadeTo(200,0.5);
          let user_sum = user_initial += gu_add;
          // console.log(user_sum);
          $('#user_total').html(user_sum);       
        } else if(randomnumber == 1) {
          $('#kekka').html('残念・・あなたの負け');
          $('#neko_center').attr('src', 'img/you_lose.png');
          $('#neko_left').attr('src', 'img/neko_pa.png');
          $('#gu').css('opacity', 1);
          $('#choki').fadeTo(200,0.5);
          $('#pa').fadeTo(200,0.5);
          let neko_sum = neko_initial += gu_add;
          // console.log(neko_sum);
          $('#neko_total').html(neko_sum);
        } else {
          $('#kekka').html('あいこ。引き分け〜');
          $('#neko_center').attr('src', 'img/janken_pon.png');
          $('#neko_left').attr('src', 'img/neko_gu.png');
          $('#gu').css('opacity', 1);
          $('#choki').fadeTo(200,0.5);
          $('#pa').fadeTo(200,0.5);
        }
      });
    </script>

    <script>
      $('#choki').on('click', function () {
        //ここに自分の処理を追加
        // const min = 0;
        // const max = 2;
        const randomnumber = Math.floor(Math.random()*(max-min+1)) +min;
        console.log(randomnumber);
        if(randomnumber == 0) {
          $('#kekka').html('やったー！あなたの勝ち');
          $('#neko_center').attr('src', 'img/you_win.png');
          $('#neko_left').attr('src', 'img/neko_pa.png');
          $('#gu').fadeTo(200,0.5);
          $('#choki').css('opacity', 1);
          $('#pa').fadeTo(200,0.5);
          let user_sum = user_initial += choki_add;
          // console.log(user_sum);
          $('#user_total').html(user_sum);  
        } else if(randomnumber == 1) {
          $('#kekka').html('残念・・あなたの負け');
          $('#neko_center').attr('src', 'img/you_lose.png');
          $('#neko_left').attr('src', 'img/neko_gu.png');
          $('#gu').fadeTo(200,0.5);
          $('#choki').css('opacity', 1);
          $('#pa').fadeTo(200,0.5);
          let neko_sum = neko_initial += choki_add;
          // console.log(neko_sum);
          $('#neko_total').html(neko_sum);
        } else {
          $('#kekka').html('あいこ。引き分け〜');
          $('#neko_center').attr('src', 'img/janken_pon.png');
          $('#neko_left').attr('src', 'img/neko_choki.png');
          $('#gu').fadeTo(200,0.5);
          $('#choki').css('opacity', 1);
          $('#pa').fadeTo(200,0.5);
        }
      });
    </script>

    <script>
      $('#pa').on('click', function () {
        //ここに自分の処理を追加
        // const min = 0;
        // const max = 2;
        const randomnumber = Math.floor(Math.random()*(max-min+1)) +min;
        console.log(randomnumber);
        if(randomnumber == 0) {
          $('#kekka').html('やったー！あなたの勝ち');
          $('#neko_center').attr('src', 'img/you_win.png');
          $('#neko_left').attr('src', 'img/neko_gu.png');
          $('#gu').fadeTo(200,0.5);
          $('#choki').fadeTo(200,0.5);
          $('#pa').css('opacity', 1);
          let user_sum = user_initial += choki_add;
          // console.log(user_sum);
          $('#user_total').html(user_sum);
        } else if(randomnumber == 1) {
          $('#kekka').html('残念・・あなたの負け');
          $('#neko_center').attr('src', 'img/you_lose.png');
          $('#neko_left').attr('src', 'img/neko_choki.png');
          $('#gu').fadeTo(200,0.5);
          $('#choki').fadeTo(200,0.5);
          $('#pa').css('opacity', 1);
          let neko_sum = neko_initial += pa_add;
          // console.log(neko_sum);
          $('#neko_total').html(neko_sum);
        } else {
          $('#kekka').html('あいこ。引き分け〜');
          $('#neko_center').attr('src', 'img/janken_pon.png');
          $('#neko_left').attr('src', 'img/neko_pa.png');
          $('#gu').fadeTo(200,0.5);
          $('#choki').fadeTo(200,0.5);
          $('#pa').css('opacity', 1);
        }
      });
    </script>

  </body>

</html>